<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="_QulXh9JitynR6CjGBqsroG6I5hve1zFQ3L7Jo_bf0o"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Reimplementing python's heapq module | George Assaad </title> <meta name="author" content="George Assaad"> <meta name="description" content="I learn by tinkering, and tinker to keep learning. "> <meta name="keywords" content="George Assaad, deep learning, computer science, CS, mathematics, math, blog, front end, backend, CI-CD, CI/CD, React Native, AI, machine learning"> <meta property="og:site_name" content="George Assaad"> <meta property="og:type" content="article"> <meta property="og:title" content="George Assaad | Reimplementing python's heapq module"> <meta property="og:url" content="https://0xgeorgeassaad.github.io/blog/2024/python-heapq/"> <meta property="og:description" content="I learn by tinkering, and tinker to keep learning. "> <meta property="og:image" content="/assets/img/cards/default-card.png"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Reimplementing python's heapq module"> <meta name="twitter:description" content="I learn by tinkering, and tinker to keep learning. "> <meta name="twitter:image" content="/assets/img/cards/default-card.png"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&amp;display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&amp;display=swap" rel="stylesheet"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?69aa09146a7f4a5237866bee4072efea" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?0e253710211b0b96e987675d62c878a4"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://0xgeorgeassaad.github.io/blog/2024/python-heapq/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">George</span> Assaad </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Reimplementing python's heapq module</h1> <p class="post-meta"> Created on May 28, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h3 id="difference-between-priority-queue-and-heap">Difference between Priority Queue and Heap</h3> <p>It’s important to note the difference between Priority Queue and Heap. Priority Queue is an <em>abstract data-type</em> that supports a specified set of operations but can be implemented using various data structures.</p> <p>A priority queue is similar to a normal queue with the only difference being that the order in which elements are removed from the queue depends on their priority not their time of arrival (addition), and as such, the data inserted into a priority queue must be comparable so that they can be ordered from least to greatest or vice versa.</p> <p>A priority queue supports the following set of operations:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">is_empty()</code>: checks whether the queue has no elements</li> <li> <code class="language-plaintext highlighter-rouge">add(elem, prio)</code>: adds an element with a specified priority to the queue</li> <li> <code class="language-plaintext highlighter-rouge">poll()</code>: removes the element with highest priority from the queue</li> </ul> <p>A priority queue can be implemented using a list, but it will be very inefficient. That’s why we will implement it using a heap which is a tree-based data structure that satisfies the heap invariant<sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>.</p> <p>The heap invariant states that the value of the parent node is smaller than the value of its children node (in case of min heap).</p> <h3 id="representation-of-a-heap">Representation of a Heap</h3> <p>Since a heap is a tree, it can represented using a pointers approach by creating a <code class="language-plaintext highlighter-rouge">node</code> class with properties <code class="language-plaintext highlighter-rouge">leftChild</code> and <code class="language-plaintext highlighter-rouge">rightChild</code>, but there is a much better and simpler representation using a simple list. So, for any parent at index $i$, we can calculate the indices of children as such:</p> \[\begin{aligned} \text{Left Child index } &amp;= 2 i+ 1 \\\\ \text{Right Child index } &amp;= 2 i+ 2 \\\\ \end{aligned}\] <p>Here is an example for a heap represented using a list</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#    0
#   / \
#  2   3
# / \ / \
# 4 5 6 4
</span><span class="n">heap</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</code></pre></div></div> <h3 id="turning-a-min-heap-into-a-max-heap">Turning a Min Heap into a Max Heap</h3> <p>Python’s original <code class="language-plaintext highlighter-rouge">heapq</code> as well as our reimplementation supports only a min heap. So, how can we turn that into a max heap?</p> <p>Since all elements in the heap implement a comparator interface, we can simply negate the comparator which, in effect, will result in the parent being larger than or equal to its children.</p> <p>One nice trick can be used when the elements themselves are numbers or when the priority is a number, We simply multiply the number by $-1$ before insertion and then multiply it back by $-1$ after removal.</p> <h3 id="adding-elements-to-the-heap">Adding elements to the heap</h3> <p>We want to maintain the complete binary tree property to achieve the nice $O(\log(n))$ runtime. We can do this by inserting any new element at the bottom leftmost position and then swimming the element to maintain the heap invariant.</p> <p>Now, we discuss the sift up algorithm starting at index $i$:</p> <ol> <li>Set <code class="language-plaintext highlighter-rouge">k = i</code> and <code class="language-plaintext highlighter-rouge">parent = (k - 1) // 2</code> </li> <li>If node is smaller than parent, <ul> <li>swap node $k$ with parent</li> <li>set <code class="language-plaintext highlighter-rouge">k = parent</code> and <code class="language-plaintext highlighter-rouge">parent = (k - 1) // 2</code> </li> <li>return to step 1</li> </ul> </li> <li>else, terminate</li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># O(log(n))
</span><span class="k">def</span> <span class="nf">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="n">heap</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="nf">swim</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">swim</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">heap</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
        <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span> <span class="o">=</span> <span class="n">heap</span><span class="p">[</span><span class="n">parent</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</code></pre></div></div> <h3 id="removing-elements-from-the-heap">Removing elements from the heap</h3> <p>When polling, the root is always located at index $0$. So, we extract <code class="language-plaintext highlighter-rouge">heap[0]</code> and swap the root <code class="language-plaintext highlighter-rouge">heap[0]</code> with the bottom rightmost leaf located at the end of the list <code class="language-plaintext highlighter-rouge">heap[-1]</code>. Then, to maintain the heap invariant we sink the element location at the root starting at index $0$.</p> <p>Now, we discuss the sinking algorithm starting at index $i$:</p> <p>One important note is that when comparing the node with its children and in case of a tie between the left and right node, we always default to the left child.</p> <ol> <li>Set <code class="language-plaintext highlighter-rouge">k = i</code> </li> <li>Set <code class="language-plaintext highlighter-rouge">left = 2*k + 1</code>, <code class="language-plaintext highlighter-rouge">right = 2*k + 2</code> </li> <li>Set <code class="language-plaintext highlighter-rouge">smallest = left</code> </li> <li>if the right element is smaller than the left element <ul> <li>Set <code class="language-plaintext highlighter-rouge">smallest = right</code> </li> </ul> </li> <li>if $k$ is $\leq$ $parent$: <ul> <li>terminate</li> </ul> </li> <li>else, <ul> <li>swap node $k$ with smallest</li> <li>set <code class="language-plaintext highlighter-rouge">k = smallest</code> </li> <li>return to step 2</li> </ul> </li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># O(log(n))
</span><span class="k">def</span> <span class="nf">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">):</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">heap</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">heap</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">heap</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">heap</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">heap</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
    <span class="nf">sink</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">root</span>
<span class="k">def</span> <span class="nf">sink</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">right</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">2</span>
        <span class="n">smallest</span> <span class="o">=</span> <span class="n">left</span>
        <span class="k">if</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span> <span class="ow">and</span> <span class="n">heap</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">heap</span><span class="p">[</span><span class="n">left</span><span class="p">]:</span>
            <span class="n">smallest</span> <span class="o">=</span> <span class="n">right</span>
        <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="nf">len</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span> <span class="ow">or</span> <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">heap</span><span class="p">[</span><span class="n">smallest</span><span class="p">]:</span>
            <span class="k">break</span>
        <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="n">smallest</span><span class="p">]</span> <span class="o">=</span> <span class="n">heap</span><span class="p">[</span><span class="n">smallest</span><span class="p">],</span> <span class="n">heap</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">smallest</span>
</code></pre></div></div> <h3 id="heapifying-a-list">Heapifying a list</h3> <p>If we already have an unsorted list and we want to turn it into a heap, the naive approach would be creating a new heap and then <code class="language-plaintext highlighter-rouge">heappush</code> each element from the list, but that would result in a runtime of $O(n\log(n))$.</p> <p>There is a more efficient way that runs in a runtime of only $O(n)$. Now, the heapify algorithm is quite simple, but it’s quite hard to prove its runtime.</p> <p>If you are interested, you can find the proof here<sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>.</p> <p>We start from the last parent (located in the middle of the list) and then sink each parent down.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># O(n)
</span><span class="k">def</span> <span class="nf">heapify</span><span class="p">(</span><span class="n">heap</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="nf">sink</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</code></pre></div></div> <h3 id="nlargest-or-nsmallest">nlargest (or nsmallest)</h3> <p>Now, imagine we want to get the $k$ largest elements from unsorted list of size $n$. The naive approach would be to first heapify the list and then pop $k$ elements from the newly built heap, but that would result in a runtime of $O(n)$ to heapify the list and a $O(\log(n))$ for each <code class="language-plaintext highlighter-rouge">heapop</code> operation resulting in a total runtime of $ O(n+ k\log(n))$ and $O(n)$ memory.</p> <p>There is another approach which is faster but might not be entirely clear to you at first. The key is to actually build a heap of only size $k$ and then traverse the rest of the list and only pop the root if the current array element <code class="language-plaintext highlighter-rouge">arr[i]</code> is larger. To see why at the end of traversal the heap would contain the $k$ largest elements, assume that the list was sorted. If we take the first $k$ elements and then heapify them, by looking at the $k+1$ element in the list, we immediately see that it’s larger than the root of the heap. Then, we pop the root and insert this new element. If we continue in this manner, we will have the $k$ largest elements by the end of the traversal. The last step would be sorting the heap.</p> <p>Now, Let’s see why it’s efficient.</p> <ul> <li>$O(\log(k))$: heapify first $k$ elements from the list</li> <li>$O((n-k) \log(k))$: at most we possibly would have to replace root of heap with each single element remaining in the list $(n-k)$ elements. (if the list was sorted)</li> <li>$O(k \log(k))$: sort final heap</li> </ul> <p>Thus, the total runtime is $ \log(k) + (n-k) \log(k)+ k \log(k) = (n+1)\log(k) \approx O(n\log(k))$ and $O(k)$ memory.</p> <p>We see that the second approach is better:</p> <ul> <li>memory: $O(k) &lt; O(n)$</li> <li>time: $O(n\log(k)) &lt; O(n+ k\log(n))$</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># O(nlog(k))
</span><span class="k">def</span> <span class="nf">nlargest</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="n">heap</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[:</span><span class="n">k</span><span class="p">]</span>
    <span class="nf">heapify</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">heap</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="nf">heappop</span><span class="p">(</span><span class="n">heap</span><span class="p">)</span>
            <span class="nf">heappush</span><span class="p">(</span><span class="n">heap</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">heap</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">heap</span>
</code></pre></div></div> <h3 id="congrats">Congrats!!</h3> <p>Pat yourself on the back! We have just implemented the python’s <code class="language-plaintext highlighter-rouge">heapq</code> module. During writing, I didn’t look at the original source code, but if you are interested, here is the original source code of the <code class="language-plaintext highlighter-rouge">heapq</code> module<sup id="fnref:3"><a href="#fn:3" class="footnote" rel="footnote" role="doc-noteref">3</a></sup>. Just note that the implementation of python would be faster because it uses a byte-compiled version, but nonetheless you can look at the python source code to learn from it.</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1"> <p><a href="https://en.wikipedia.org/wiki/Heap_(data_structure)" rel="external nofollow noopener" target="_blank">Heap (data structure) - Wikipedia</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:2"> <p><a href="https://www.cs.umd.edu/~meesh/351/mount/lectures/lect14-heapsort-analysis-part.pdf" rel="external nofollow noopener" target="_blank">Heapify proof</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:3"> <p><a href="https://github.com/python/cpython/blob/3.12/Lib/heapq.py" rel="external nofollow noopener" target="_blank">Python’s heaapq implementation</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/backprop/">Everything You Need to Know About Backpropagation</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/ERC/">Sui Generis (ERC)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/LA-01/">Linear Algebra Part 01: Identities</a> </li> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2025 George Assaad. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0D9DTLDYE6"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-0D9DTLDYE6');
  </script> <script defer src="/assets/js/google-analytics-setup.js"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>